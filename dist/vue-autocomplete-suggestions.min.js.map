{"version":3,"file":"vue-autocomplete-suggestions.min.js","sources":["../src/DefaultSuggestionComponent.vue","../src/Autocomplete.vue","../src/DefaultSearchField.vue"],"sourcesContent":["<template>\n  <span>{{ suggestion }}</span>\n</template>\n\n<script lang=\"ts\">\nimport Vue from 'vue'\nexport default Vue.extend({\n  props: {\n    suggestion: {\n      type: [Object, Number, String],\n      required: true,\n    },\n    active: {\n      type: Boolean,\n      required: true,\n    },\n  },\n})\n</script>\n","<template>\n  <section v-click-outside=\"hideSuggestions\" class=\"vue-autocomplete\">\n    <div ref=\"inputWrapper\" v-bind=\"inputAttributes\" v-on=\"inputListeners\">\n      <slot>\n        <default-search-field />\n      </slot>\n    </div>\n    <ul v-show=\"showSuggestions\" ref=\"suggestions\" class=\"suggestions\">\n      <div class=\"misc-item-above\">\n        <slot :suggestions=\"suggestions\" name=\"misc-item-above\" />\n      </div>\n      <li v-for=\"(suggestion, index) in suggestions\" :key=\"getSuggestionText(suggestion)\" @click=\"selectSuggestion(suggestion)\" @mouseover=\"hoverIndex = index\" :class=\"{'is-hovered': hoverIndex===index}\" @mouseleave=\"hoverIndex = -1\" class=\"search-suggestion\">\n        <slot v-bind=\"{suggestion, active: hoverIndex===index}\" name=\"suggestionComponent\">\n          <default-suggestion-component v-bind=\"{suggestion, active: hoverIndex===index}\" />\n        </slot>\n      </li>\n      <div class=\"misc-item-below\">\n        <slot :suggestions=\"suggestions\" name=\"misc-item-below\" class=\"misc-item-below\" />\n      </div>\n    </ul>\n  </section>\n</template>\n\n<script lang=\"ts\">\nimport Vue, { VNode } from 'vue'\nimport DefaultSuggestionComponent from './DefaultSuggestionComponent.vue'\nimport DefaultSearchField from './DefaultSearchField.vue'\nimport { Prop } from 'vue/types/options'\n\ninterface Data {\n  hoverIndex: number\n  showSuggestions: boolean\n  suggestions: any[]\n  suggestionCache: Cache\n  inputElement: HTMLInputElement | null\n  isMakingRequest: boolean\n}\n\ntype Suggestion = string | object | number\ninterface Cache {\n  [key: string]: any\n}\n\nexport default Vue.extend({\n  name: 'VueAutocomplete',\n  components: {\n    DefaultSuggestionComponent,\n    DefaultSearchField,\n  },\n  directives: {\n    /** detect a click outside of the input and the suggestions\n     to hide the suggestions */\n    clickOutside: {\n      isFn: true,\n      bind(element: any, binding: any, vnode: VNode) {\n        element.event = (event: Event) => {\n          const { inputWrapper, suggestions } = vnode.context!.$refs\n\n          // check if the click was outside the components\n          if (\n            // @ts-ignore\n            !inputWrapper.contains(event.target) &&\n            // @ts-ignore\n            !suggestions.contains(event.target)\n          ) {\n            // if it was, call method provided in attribute value\n            // @ts-ignore\n            vnode.context[binding.expression](event)\n          }\n        }\n        document.body.addEventListener('click', element.event)\n      },\n      unbind(element: any) {\n        document.body.removeEventListener('click', element.event)\n      },\n    },\n  },\n  inheritAttrs: false,\n  props: {\n    cacheResults: {\n      type: Boolean,\n      default: true,\n    },\n    getSuggestionText: {\n      type: Function,\n      default(suggestion: any) {\n        if (typeof suggestion === 'string') {\n          return suggestion\n        }\n        return JSON.stringify(suggestion)\n      },\n    },\n    suggestionSource: {\n      type: [Array, Function],\n      required: true,\n    },\n    value: {\n      type: [String, Number],\n      required: true,\n    },\n  },\n  data(): Data {\n    return {\n      showSuggestions: false,\n      hoverIndex: -1,\n      suggestions: [],\n      // if suggestions source is an async function,\n      // save the result for each input inside this cache\n      suggestionCache: {},\n      inputElement: null,\n      isMakingRequest: false,\n    }\n  },\n  computed: {\n    inputAttributes(): object {\n      return {\n        ...this.$attrs,\n        // @ts-ignore\n        value: this.value,\n      }\n    },\n    inputComponent(): Vue | undefined {\n      if (this.$slots.default && !!this.$slots.default[0].componentInstance) {\n        return this.$slots.default[0].componentInstance\n      }\n    },\n    inputListeners(): object {\n      const nativeListeners = {\n        ...this.$listeners,\n        click: (event: Event) => {\n          this.handleClick()\n          this.$emit('click', event)\n        },\n        keydown: (event: KeyboardEvent) => {\n          const key = event.keyCode\n          const selectionUpKeys = [33, 38]\n          const selectionDownKeys = [34, 40]\n          const selectKeys = [9, 13, 36]\n          const hideSuggestionsKeys = [27, 35]\n\n          if (selectionUpKeys.includes(key)) {\n            this.handleKeyUp()\n          } else if (selectionDownKeys.includes(key)) {\n            this.handleKeyDown()\n          } else if (selectKeys.includes(key)) {\n            this.handleKeyEnter()\n          } else if (hideSuggestionsKeys.includes(key)) {\n            this.handleKeyEscape()\n          }\n\n          this.$emit('keydown', event)\n        },\n      }\n      // @ts-ignore\n      delete nativeListeners.select\n      return nativeListeners\n    },\n  },\n  watch: {\n    value: {\n      immediate: true,\n      handler(newValue) {\n        if (this.inputElement) {\n          // @ts-ignore\n          this.inputElement.value = this.value\n        }\n        if (newValue === '') {\n          this.showSuggestions = false\n        }\n      },\n    },\n    // TODO: evaluate if this is necessary or can be done with less code\n    suggestionSource: {\n      async handler(newSource) {\n        this.clearCache()\n        console.log('new suggestion source')\n\n        // @ts-ignore\n        try{\n        this.suggestions = await this.getSuggestions()\n        }catch(error){\n          console.error(error)\n        }\n      },\n    },\n  },\n  mounted() {\n    const inputWrapper = this.$refs.inputWrapper as HTMLDivElement\n    this.inputElement = inputWrapper.querySelector('input') as HTMLInputElement\n    // @ts-ignore\n    this.inputElement.value = this.value\n    // @ts-ignore\n    this.inputElement.addEventListener('focus', () => {\n      this.$emit('focus')\n    })\n    this.inputElement.addEventListener('input', (event: Event) => {\n      event.preventDefault()\n      event.stopPropagation()\n      const newValue = (event.target as HTMLInputElement).value\n      // @ts-ignore\n      if (this.value !== newValue) {\n        this.$emit('input', newValue)\n        this.handleInput(newValue)\n      }\n    })\n  },\n  methods: {\n    clearCache() {\n      this.suggestionCache = {}\n    },\n    async getSuggestions(): Promise<Suggestion[]> {\n      // @ts-ignore\n      if (Array.isArray(this.suggestionSource)) {\n        // @ts-ignore\n        return this.suggestionSource\n      }\n\n      // @ts-ignore\n      if (typeof this.suggestionSource === 'function') {\n        // @ts-ignore\n        if (this.cacheResults) {\n          const inputValue = this.inputElement!.value\n          if (this.suggestionCache[inputValue]) {\n            return this.suggestionCache[inputValue]\n          }\n          this.isMakingRequest = true\n          let newSuggestions\n          try {\n          // @ts-ignore\n          newSuggestions = await this.suggestionSource()\n          } catch (error) {\n            console.error(error)\n          }\n          this.isMakingRequest = false\n          this.suggestionCache[inputValue] = newSuggestions\n          return newSuggestions\n        } else {\n          this.isMakingRequest = true\n          let result\n          try {\n          // @ts-ignore\n          result = await this.suggestionSource()\n          } catch (error) {\n            console.error(error)\n          }\n          this.isMakingRequest = false\n          return result\n        }\n      }\n\n      throw new Error('invalid suggestion source')\n    },\n    async handleClick() {\n      // @ts-ignore\n      if (this.value !== '') {\n        this.suggestions = await this.getSuggestions()\n        this.showSuggestions = true\n      }\n    },\n    handleKeyDown() {\n      // if its at the bottom, move to top\n      // if its not at the bottom move down by 1\n      // @ts-ignore\n      this.showSuggestions = true\n      this.hoverIndex = (this.hoverIndex + 1) % this.suggestions.length\n    },\n    handleKeyEnter() {\n      // console.log('eneter')\n\n      const index = this.hoverIndex\n      // @ts-ignore\n      if (0 <= index && index < this.suggestions.length) {\n        // @ts-ignore\n        const currentSuggestion = this.suggestions[index]\n        // TODO: remove side effect\n        this.selectSuggestion(currentSuggestion)\n      }\n    },\n    handleKeyEscape() {\n      this.hideSuggestions()\n      this.inputElement!.blur()\n    },\n    handleKeyUp() {\n      // if its at the top, move to bottom\n      // if its not at the top move up by 1\n      this.hoverIndex =\n        // @ts-ignore\n        (this.hoverIndex - 1 + this.suggestions.length) %\n        // @ts-ignore\n        this.suggestions.length\n    },\n    async handleInput(newValue: string) {\n      console.log('handle input')\n\n      try {\n      this.suggestions = await this.getSuggestions()\n      } catch (error) {\n        console.error(error)\n      }\n      this.showSuggestions = true\n      this.hoverIndex = -1\n    },\n    hideSuggestions() {\n      if (this.showSuggestions) {\n        this.showSuggestions = false\n        this.hoverIndex = -1\n      }\n    },\n    selectSuggestion(suggestion: any) {\n      this.hideSuggestions()\n      // @ts-ignore\n      this.$emit('input', this.getSuggestionText(suggestion))\n      this.$emit('select', suggestion)\n      // @ts-ignore\n      this.inputElement.value = this.getSuggestionText(suggestion)\n      this.inputElement!.blur()\n    },\n  },\n})\n</script>\n\n<style>\n.vue-autocomplete {\n  position: relative;\n}\n\n.vue-autocomplete input {\n  width: 100%;\n  box-sizing: border-box;\n}\n.vue-autocomplete .suggestions {\n  position: absolute;\n  padding-left: 0;\n  margin-top: 0;\n  margin-bottom: 0;\n  width: 100%;\n  z-index: 1;\n  box-sizing: border-box;\n}\n\n.vue-autocomplete .search-suggestion {\n  list-style: none;\n  cursor: pointer;\n  user-select: none;\n  background: #ffffff;\n}\n\n.vue-autocomplete .search-suggestion.is-hovered {\n  background: #e7e7e7;\n}\n\n.vue-autocomplete > ul {\n  border-left: 1px solid #bbb;\n  border-right: 1px solid #bbb;\n  border-bottom: 1px solid #bbb;\n}\n</style>\n","<template>\n  <div class=\"default-search-field\">\n    <input autocomplete=\"off\" type=\"text\">\n  </div>\n</template>\n\n<style>\n.default-search-field {\n  position: relative;\n  height: 35px;\n  border: 1px solid #bdbdbd;\n}\n\n.default-search-field > input {\n  width: 100%;\n  height: 100%;\n  line-height: 15px;\n  font-size: 15px;\n  padding: 6px 10px 6px 0;\n  border: 0;\n  outline: 0;\n  text-indent: 8px;\n}\n</style>\n"],"names":["extend","render","props","suggestion","type","Object","Number","String","required","active","Boolean","__assign","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","this","v","op","TypeError","pop","push","Vue","name","components","DefaultSuggestionComponent","DefaultSearchField","directives","clickOutside","isFn","bind","element","binding","vnode","event","_a","context","$refs","inputWrapper","suggestions","contains","target","expression","document","addEventListener","unbind","removeEventListener","inheritAttrs","cacheResults","default","getSuggestionText","Function","JSON","stringify","suggestionSource","Array","data","showSuggestions","hoverIndex","suggestionCache","inputElement","isMakingRequest","computed","inputAttributes","$attrs","inputComponent","$slots","componentInstance","inputListeners","_this","nativeListeners","$listeners","click","handleClick","$emit","keydown","key","keyCode","includes","handleKeyUp","handleKeyDown","handleKeyEnter","handleKeyEscape","select","watch","immediate","handler","newValue","newSource","error_1","_b","clearCache","console","log","getSuggestions","error","mounted","querySelector","preventDefault","stopPropagation","handleInput","methods","inputValue","newSuggestions","error_2","error_3","isArray","Error","index","currentSuggestion","selectSuggestion","hideSuggestions","blur","error_4"],"mappings":"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"}